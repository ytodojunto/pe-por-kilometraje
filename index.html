<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PE Automática - Prácticos Argentina</title>
    <meta name="description" content="Profundidad Efectiva automática por kilometraje - Herramienta oficial para Prácticos del Paraná">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VTGH8J2KN8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VTGH8J2KN8');
    </script>
    <style>
        body{font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#0077be,#75c9e8);margin:0;padding:0;min-height:100vh;color:#fff}
        .container{max-width:500px;margin:20px auto;background:rgba(255,255,255,0.95);border-radius:20px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.4)}
        header{background:#003087;padding:20px;text-align:center}
        .logo{max-width:180px;margin:10px auto;display:block}
        h1{color:#fff;font-size:1.6em;margin:10px 0 5px}
        .sub{color:#fff;opacity:0.9;font-size:0.9em}
        .cuerpo{background:#fff;color:#000;padding:30px 25px}
        input{width:100%;padding:18px;font-size:20px;border:2px solid #003087;border-radius:12px;text-align:center;margin:15px 0}
        button{width:100%;padding:18px;background:#003087;color:#fff;font-size:20px;font-weight:bold;border:none;border-radius:12px;cursor:pointer;transition:0.3s}
        button:hover{background:#0050b3;transform:scale(1.02)}
        .res{background:#e8f4fc;padding:25px;border-radius:15px;margin:25px 0;text-align:center;font-size:2em;color:#003087;font-weight:bold;border:3px solid #75c9e8}
        .det{font-size:0.95em;color:#333;line-height:1.6;margin:15px 0;background:#f8f9fa;padding:15px;border-radius:10px}
        .footer{text-align:center;padding:20px;background:#003087;color:#fff;font-size:0.9em}
        a{color:#75c9e8;text-decoration:none;font-weight:bold}
        a:hover{text-decoration:underline}
        @media (max-width:480px){h1{font-size:1.4em}.res{font-size:1.8em}}
    </style>
</head>
<body>
<div class="container">
    <header>
        <img src="https://i.ibb.co/5YdYg1Z/logo-practicos-argentina-oficial.png" alt="Asociación Civil de Prácticos de la República Argentina" class="logo">
        <h1>Profundidad Efectiva Automática</h1>
        <div class="sub">Vía Navegable Troncal del Paraná · 2025</div>
    </header>

    <div class="cuerpo">
        <input type="number" id="km" placeholder="Ingresá el kilometraje (ej: 345.6)" step="0.1" min="0" max="1600">

        <button onclick="calc()">CALCULAR PE</button>

        <div class="res">
            PE = <span id="pe">—</span> m
        </div>

        <div class="det" id="detalle" style="display:none">
            Entre <strong><span id="e1">—</span></strong> y <strong><span id="e2">—</span></strong><br>
            Nivel interpolado: <strong><span id="hx">—</span> m</strong><br>
            Profundidad al cero: <strong><span id="cero">—</span> m</strong><br>
            Marea (solo km<150): <strong><span id="marea">—</span> m</strong>
        </div>

        <div style="text-align:center;margin-top:25px">
            <a href="https://ytodojunto.github.io/CALADO-DE-DESPACHO-V2/" target="_blank">
                Ir a Calculadora de Calado Oficial
            </a>
        </div>
    </div>

    <div class="footer">
        Herramienta creada para la comunidad de Prácticos del Paraná<br>
        Datos AGP + SHN · Noviembre 2025
    </div>
</div>

<script>
    const estaciones = [
        {nombre:"Corrientes",km:1204,h:2.15},{nombre:"Santa Fe",km:593,h:1.85},
        {nombre:"Paraná",km:567,h:1.82},{nombre:"Rosario",km:325,h:1.82},
        {nombre:"Villa Constitución",km:268,h:1.79},{nombre:"San Nicolás",km:235,h:1.76},
        {nombre:"Ramallo",km:215,h:1.74},{nombre:"San Pedro",km:185,h:1.72},
        {nombre:"Baradero",km:148,h:1.70},{nombre:"Zárate",km:112,h:1.90},
        {nombre:"Ibicuí",km:85,h:1.85},{nombre:"Atucha",km:75,h:1.80},
        {nombre:"Escobar",km:55,h:1.75},{nombre:"Buenos Aires",km:25,h:1.65}
    ].sort((a,b)=>b.km-a.km);

    function calc(){
        const x = parseFloat(document.getElementById("km").value);
        if(isNaN(x)||x<0||x>1600)return alert("Ingresa un km válido");

        let inf=null, sup=null;
        for(let e of estaciones){
            if(e.km >= x) inf = e;
            if(e.km <= x && (!sup || e.km > sup.km)) sup = e;
            if(inf && sup) break;
        }
        if(!inf||!sup)return alert("Fuera de cobertura");

        const x1=inf.km, h1=inf.h, x2=sup.km, h2=sup.h;
        const L = x1 - x2;
        const hx = h1 + ((h2 - h1)/L) * (x - x1);

        let cero = 10.36;
        const marea = (x < 150) ? 0.75 : 0;

        const pe = hx + cero + marea;

        document.getElementById("pe").textContent = pe.toFixed(2);
        document.getElementById("e1").textContent = inf.nombre + " (km "+inf.km+")";
        document.getElementById("e2").textContent = sup.nombre + " (km "+sup.km+")";
        document.getElementById("hx").textContent = hx.toFixed(2);
        document.getElementById("cero").textContent = cero.toFixed(2);
        document.getElementById("marea").textContent = marea.toFixed(2);
        document.getElementById("detalle").style.display = "block";

        gtag('event','pe_practicos',{km:x,pe:pe.toFixed(2)});
    }
</script>
</body>
</html>
